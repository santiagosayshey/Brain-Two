![[Pasted image 20230815061849.png]]

- We would like to be able to store a single file inside only 1 block, so that we can keep it entirely within a cache

## Types of Files

### Heap Files
- Start with a file and just add records to the end of it
	- Often called "files of unordered records"
	- Very efficient to add new records
	- Inefficient to search (linear search)
	- Inefficient delete
		- Search
		- Load into memory
		- Delete record (possible leaving holes in the file)
	- Needs periodic reorganisation to reclaim lost space
	- May create sorted copies for particular operations

### Sorted Files
- Records are added to the file based on a field, the ordering field
	- Reading in ordering key order is very efficient
	- Key order adjacent records will be in the same block
		- We can use binary search to search over the sorted records
			- And we can even extend this to the blocks in which records are stored within files
		- Insertion and deletion are expensive
			- Insert: find location, increase amount of space and add new record
				- May need to move a lot of records along to make room (think about arrays)
			- Delete is similar to the unordered case, but locating the record is faster

### Hashed Files
- A hash function is used to calculate the address of the record, using the value of an attribute of set of attributes
	- The output determines the location to use for storage and hence retrieval
	- This reduces the search down to one block, which can be easily loaded into memory
	- But has possibility of collision, where multiple records collide with each other - this has to be managed
	- Want to keep has table 70 -90 % full at all times

### B+ Trees
- A B+ tree is a balanced tree
	- Every path from root to each leaf is the same length
	- Each node has between n/2 and n children, where n is the same for every node of the tree
	- Some insertion and deletion overhead
	- No maintenance and deletion overhead
	- B+ Trees use redundant storage of search keys to help index the leaf nodes
	- Performance much better than heap and sorted, and generally better than hashed storage