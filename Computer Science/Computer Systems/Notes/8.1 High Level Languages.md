## Language Specification
- Jack is a high level object based programming language similar to C++ / Java
### Syntactic Elements
- Jack programs are a sequence of tokens separated by whitespace
- Tokens can be symbols, reserved words, constants and identifiers

![](Images/figure_9.6.png)

### Program Structure
- Programs are a collection of classes stored in the same folder
- One class must be `Main` and this class must have a function `main`
- Execution starts with the `Main.main` function
- Basic programming unit is a `class`
	- Each class exists in a separate class file `Class.jack`
	- Classes start with an uppercase letter

![](Images/figure_wo_caption_9.1.png)

- A class declaration specifies a name which methods can be accessed `class.subroutine`
- Contains `field` declarations for object properties and `static` declarations
- Then contains `subroutines`
	- `methods` operate on the current object
	- `functions` operate on the class abstraction itself, not relying on a unique object
	- `constructors` create and return new objects of the class type

![](Images/figure_wo_caption_9.2.png)

- Includes a `name` to be accessed by its class `class.name`
- Includes a type to indicate what is returned by the routine (`void` if no return)
	- Can be any primitive, abstract or standard class data type
	- Constructor's return type must be of the class it belongs to
- Includes a parameter list of typed variables to be used as arguments 
	- `int x, boolean sign, Fraction g`
- Constructors can be arbitrarily named, and there may exist multiple of them
	- Usually called `new`
- Contains a sequence of local variable declarations `var` statements and then statements to manipulate that data
- Each subroutine ends with a `return` expression
	- Must return variable of type defined in subroutine declaration
	- `void` returns nothing `return;`
	- Constructors return object itself `return this`


### Data Types
- Primitive types include`int, char, boolean`
- Standard class types included too `String, Array`
- Abstract data types can be created via classes and exist in the project folder

#### Primitive Types
- `int` - two's complement 16 bit integer
- `char` - unsigned 16 bit integer
- `boolean` - `true` or `false` expressed in 16 bits
- Weakly typed -  a value of any type can be assigned to a variable of any type without casting

#### Arrays
- Declared using standard OS class `Array`
- Elements accessed using `arr[i]`, index starting from 0
- 2D arrays are arrays of type array
- Declaration creates a reference, `new` creates the array proper `Array.new(arrayLength)`

#### Strings
- Arrays of `chars`
- Contents of a `String` object accessed using `charAt(index)`

![](Images/figure_wo_caption_9.4.png)
#### Object Types

![](Images/figure_wo_caption_9.3.png)

#### Type Conversions
- Weakly typed - any variable can be assigned any value type
- Compilers may check for any errors and perform the following assignments:

- `chars` can be assigned `ints` and vice versa

![](Images/figure_wo_caption_9.5.png)

- `ints` can be assigned references to objects (interpreted as a memory address)

![](Images/figure_wo_caption_9.6.png)

- `objects` can be assigned to `Arrays` and vice versa

![](Images/figure_wo_caption_9.7.png)

> WTF?

#### Variables
- `Static` variables - defined at class level and accessible by all class subroutines