## The HACK Computer
- 64KB of separate read only instruction memory
- 32KB + 16KB + 2B of separate read / write data memory
	- 32KB for RAM
	- 16KB for screen
	- 2B for I/O
	- Instructions are 1 word - 16 bits or 2 bytes
- The entire machine runs off a **single clock signal**
- All instructions take exactly the same amount of time to execute
- A lot of embedded systems may be structured like this

![](Pasted%20image%2020231017113441.png)

## Signal Propagation - What is the limitation of clock speed?
- The clock must not tick again until propagation completes
	- The output of every gate needs time to get to the next gate
	- Every gate needs time to respond to it's inputs
	- The longest path through the machine must be able to complete

![](Pasted%20image%2020231017114054.png)

- The longest path is *very* long
	1. The PC must send a new address to instruction memory
	2. Only then can a new instruction be used to change control signals
	3. Only then can the correct inputs reach the ALU
	4. Only then can the correct output leave the ALU
	5. Only then can a Jump be evaluated
	6. Only then is the new value of the PC known

![](Pasted%20image%2020231017114758.png)

- Until propagation completes, bad things appear to happen
	- Wrong data being read from memory
	- Wrong data being written to the wrong memory address
	- The wrong values flowing through multiplexers
	- The wrong address being written to PC
	- The wrong values being written to the A and D registers
- Why does the computer still work?
	- Because the wrong values are never saved!
	- Memory, PC, A and D not change until  the next clock tick


### The Power Wall
- Switching consumes power
	- If the outputs of chips change, power is consumed
	- Even if externally there is no change, internal changes can occur
	- Careful routing of wires to minimise changes can save power

- The overall power consumption of a processor approximates:
$$
P = \frac{1}{2} \cdot C \cdot V^2 \cdot F
$$
- Power consumption performance challenges:
	- There is a practical limit to how much power can be used
	- Capacitive load reduction requires new manufacturing processes
	- Voltage reductions may be nearing their limits
	- Removing the generated can be expensive
	- We want lower power consumption

### What Can Be Done?
- Shorten the longest path
	- More efficient adders
		- Our 16 bit adder requires a signal to traverse 32 gates
		- Carry look ahead could reduce this to 5 gates
		- A 16 bit multiplier could be implemented with a 20 gate delay
	- A shorter longest path may allow a shorter clock cycle / faster clock
	- But a faster clock means more power consumption
- Split the processor into smaller parts linked by registers
	- Pipelining
- Use separate clocks for different components
	- Processor
	- Memory
	- I/O

### Slow Memory
- Assume that the RAM in our Hack computer is changed
	- The new memory takes 500 clock cycles to read or write anything
	- It is not good at remembering data but it is very cheap!
- Assume that the RAM has a 